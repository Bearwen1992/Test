{
	"Specs":{
		"Devices":{
			"Device":[
				{
					"Name":"mail",
					"Vari":[
						{
							"Name":"send_flag",
							"Type":"bool",
							"Default":"false"
						},
						{
							"Name":"receive_flag",
							"Type":"bool",
							"Default":"false"
						},
						{
							"Name":"send_content",
							"Type":"int",
							"Default":"0"
						},
						{
							"Name":"receive_content",
							"Type":"int",
							"Default":"0"
						}
					],
					"API":[
						{
							"Name":"send",
							"Para":[
							{
								"Name":"recvmail",
								"Type":"int"
							}
							],
							"UR":"true"
						},
						{
							"Name":"receive",
							"Para":[
							{
								"Name":"sentmail",
								"Type":"int"
							}
							],
							"UR":"true"
						}
					],
					"Mode":[
						"S1"
					],
					"INIMode":"S1",
					"Trigger":[
						{
							"Name":"trigger1",
							"WHEN":"receive_flag==true",
							"RESTORE":[
							"receive_flag=false",
							]
						},
						{
							"Name":"trigger2",
							"WHEN":"((send_flag==true) && (sentmail==10))",
							"RESTORE":[				
							"send_flag=false",
							]
						}
					],
					"Trans":[
						{
							"Name":"t1",
							"WHEN":"send?(sentmail)",
							"ASSIGN":[
							"send_flag=true"
							],
							"From":"S1",
							"To":"S1"
						},
						{
							"Name":"t2",
							"WHEN":"receive?(recvmail)",
							"ASSIGN":[
							"receive_flag=true"
							],
							"From":"S1",
							"To":"S1"
						}
					]
				},
				{
					"Name":"gate",
					"Mode":[
						"Closed",
						"Open"
					],
					"INIMode":"Closed",
					"API":[
						{
							"Name":"open",
							"Para":[
							],
							"UR":"true"
						},
						{
							"Name":"close",
							"Para":[
							],
							"UR":"true"
						}
					],
					"Trans":[
						{
							"Name":"t1",
							"WHEN":"open?()",
							"ASSIGN":[],
							"From":"Closed",
							"To":"Open"
						},
						{
							"Name":"t2",
							"WHEN":"close?()",
							"ASSIGN":[],
							"From":"Open",
							"To":"Closed"
						},
					]
				}
			]
		},
		"Rules":[
			{
				"Device1":"mail",
				"Trigger":"",//条件
				"Device2":"mail",
				"Attuator":"send",
				"Para":"(recvmail)"
			},
			{
				"Device":"mail",
				"Trigger":"trigger2",
				"API":"open",
				"Para":"()"
			}
		],
		"Types":[
		]
	}
}